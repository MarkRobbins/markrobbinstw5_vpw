<!DOCTYPE html>
<html>
  <head>
    <title>window.Ltbr.public_static_utils.html 2015.11.14.13.32.35</title>
    <meta charset-"utf-8">
  </head>
  <body style="background-color:#000000;">
<div style='max-width: 850px;overflow:hidden; color: #d6d6d6;font-style: normal; font-weight: normal; text-decoration: none;'>
<pre><span style="color:#363250;">// COPYRIGHT &copy; 2015 Mark Robbins, all rights reserved</span>
<span>  </span><span style="color:#363250;">// Z_DOT fn ltbrs_of_qs(qs).Ltbr:dictionary{Ltbr} ::Ltbr::_ ::conceptboard::conceptboard_vpw::_tool::!mark::C::conceptboard.js  z.89254595009151301.2014.10.31.16.32.25.298|+*?</span>
<span>    </span><span style="color:#b2b2b2;">Ltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">ltbrs_of_qs</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">qs</span><span>)</span><span style="color:#708a53;">{</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">ltbrs</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{}</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#b2b2b2;">qs</span><span style="color:#ff00ff;">.each</span><span>(</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#634880;">this</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">offset</span><span>()</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">left</span><span>,</span><span style="color:#b2b2b2;">r</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">offset</span><span>()</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">left</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">width</span><span>(),</span><span style="color:#b2b2b2;">t</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">offset</span><span>()</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">top</span><span>,</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">offset</span><span>()</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">top</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">height</span><span>()</span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">=new</span><span> </span><span style="color:#3a7474;">Ltbr</span><span>(</span><span style="color:#b2b2b2;">l</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#b2b2b2;">ltbrs</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">me</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">attr</span><span>(</span><span style="color:#7a7b62;">'id'</span><span>)</span><span style="color:#ff00ff;">]=</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">ltbrs</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#363250;">//-ltbrs_of_qs</span>
<span>  </span><span style="color:#363250;">// Z_DOT fn ltbrs_of_sel(sel).Ltbr:dictonary{Ltbr} ::Ltbr::_ ::conceptboard::conceptboard_vpw::_tool::!mark::C::conceptboard.js  z.83146595009151301.2014.10.31.16.32.44.138|+*?</span>
<span>    </span><span style="color:#b2b2b2;">Ltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">ltbrs_of_sel</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">sel</span><span>)</span><span style="color:#708a53;">{</span>
<span>      </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">Ltbr</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">ltbrs_of_qs</span><span>(</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#b2b2b2;">sel</span><span>))</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#363250;">//-ltbrs_of_sel</span>
<span>  </span><span style="color:#363250;">// Z_DOT fn closest_to_point(ltbrs, pt).Ltbr:string ::Ltbr::_ ::conceptboard::conceptboard_vpw::_tool::!mark::C::conceptboard.js  z.45408595009151301.2014.10.31.16.33.00.454|+*?</span>
<span>    </span><span style="color:#b2b2b2;">Ltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">closest_to_point</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">ltbrs</span><span>,</span><span style="color:#b2b2b2;">pt</span><span>)</span><span style="color:#708a53;">{</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">sd</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">Number</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">POSITIVE_INFINITY</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">got</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">Object</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">keys</span><span>(</span><span style="color:#b2b2b2;">ltbrs</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#2b2bff;">for</span><span> (</span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">++</span><span>) </span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">];</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">ltbr</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">ltbrs</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">];</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">d</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">ltbr</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">distance</span><span>(</span><span style="color:#b2b2b2;">pt</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">d</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">sd</span><span>) </span><span style="color:#708a53;">{</span>
<span>          </span><span style="color:#b2b2b2;">sd</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">d</span><span style="color:#ff00ff;">;</span>
<span>          </span><span style="color:#b2b2b2;">got</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">got</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#363250;">//-closest_to_point</span>
<span>  </span><span style="color:#363250;">// Z_DOT fn filter_dir(dir, oltbr, ltbrs).Ltbr:string ::Ltbr::_ ::conceptboard::conceptboard_vpw::_tool::!mark::C::conceptboard.js  z.67349595009151301.2014.10.31.16.33.14.376|+*?</span>
<span>    </span><span style="color:#b2b2b2;">Ltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">filter_dir</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">dir</span><span>,</span><span style="color:#b2b2b2;">oltbr</span><span>,</span><span style="color:#b2b2b2;">ltbrs</span><span>)</span><span style="color:#708a53;">{</span>
<span>      </span><span style="color:#363250;">//return the nearest rect given start dim</span>
<span>      </span><span style="color:#363250;">// dir: udlr</span>
<span>      </span><span style="color:#363250;">// oltbr: source ltbr</span>
<span>      </span><span style="color:#363250;">// ltbrs: {name:{l: t: b: r:}</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">=[];</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">;</span><span style="color:#363250;">//=oltbr[dir];//{l:'r'}[]</span>
<span>      </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#363250;">//noinspection JSValidateTypes</span>
<span>        </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">false</span><span style="color:#ff00ff;">===undefined</span><span>) </span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'l'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">oltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'r'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">oltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">r</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'u'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">oltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">t</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'d'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">oltbr</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#2b2bff;">for</span><span> (</span><span style="color:#b2b2b2;">id</span><span> </span><span style="color:#2b2bff;">in</span><span> </span><span style="color:#b2b2b2;">ltbrs</span><span>) </span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#ff00ff;">!</span><span style="color:#b2b2b2;">ltbrs</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">hasOwnProperty</span><span>(</span><span style="color:#b2b2b2;">id</span><span>)) </span><span style="color:#708a53;">{</span>
<span>          </span><span style="color:#2b2bff;">continue</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">ltbrs</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">];</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">doit</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">false</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#363250;">//noinspection JSValidateTypes</span>
<span>        </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">false</span><span style="color:#ff00ff;">===undefined</span><span>) </span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'l'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">doit</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">r</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'r'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">doit</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">&gt;</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'u'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">doit</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dir</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'d'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">doit</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">t</span><span style="color:#ff00ff;">&gt;</span><span style="color:#b2b2b2;">val</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span>
<span>        </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">doit</span><span>) </span><span style="color:#708a53;">{</span>
<span>          </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#b2b2b2;">id</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">sd</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">Number</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">POSITIVE_INFINITY</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">got</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#2b2bff;">for</span><span> (</span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">++</span><span>) </span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">];</span>
<span>        </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">d</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">oltbr</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">distance</span><span>(</span><span style="color:#b2b2b2;">ltbrs</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">]</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">d</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">sd</span><span>) </span><span style="color:#708a53;">{</span>
<span>          </span><span style="color:#b2b2b2;">sd</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">d</span><span style="color:#ff00ff;">;</span>
<span>          </span><span style="color:#b2b2b2;">got</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">;</span>
<span>        </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#708a53;">}</span>
<span>      </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">got</span><span style="color:#ff00ff;">;</span>
<span>      </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#363250;">//-filter_dir</span>
</pre></div>
  </body>
</html>

