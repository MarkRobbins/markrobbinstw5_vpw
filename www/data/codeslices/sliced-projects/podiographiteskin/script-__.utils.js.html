<!DOCTYPE html>
<html>
  <head>
    <title>script-__.utils.js.html 2015.11.16.16.53.13</title>
    <meta charset-"utf-8">
  </head>
  <body style="background-color:#000000;">
<div style='max-width: 850px;overflow:hidden; color: #d6d6d6;font-style: normal; font-weight: normal; text-decoration: none;'>
<pre><span style="color:#363250;">// COPYRIGHT &copy; 2015 Mark Robbins, all rights reserved</span>
<span>    </span><span style="color:#363250;">// Z_DOT struct utils::__       ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.40832082008402301.2015.11.16.07.47.03.804|struct</span>
<span>      ,</span><span style="color:#b2b2b2;">utils</span><span style="color:#ff00ff;">:</span><span style="color:#708a53;">{</span>
<span>        </span><span style="color:#363250;">// Z_DOT var _name:string                                 ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.68227082008402301.2015.11.16.07.47.52.286|+@,</span>
<span>          </span><span style="color:#006200;">_name</span><span style="color:#ff00ff;">:</span><span style="color:#7a7b62;">'utils'</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn itemXyWh(q):object{x,y,w,h}                   ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.65197182008402301.2015.11.16.07.49.39.156|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">itemXyWh</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#006200;">q</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">st</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#b2b2b2;">window</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">scrollTop</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">sl</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#b2b2b2;">window</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">scrollLeft</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">w1</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">width</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">h1</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">height</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">x1</span><span>,</span><span style="color:#b2b2b2;">y1</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">]===</span><span style="color:#b2b2b2;">window</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">x1</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">y1</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">offset1</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">offset</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">offset1</span><span style="color:#ff00ff;">!==undefined</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">x1</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">offset1</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">left</span><span style="color:#ff00ff;">-</span><span style="color:#b2b2b2;">sl</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#b2b2b2;">y1</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">offset1</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">top</span><span style="color:#ff00ff;">-</span><span style="color:#b2b2b2;">st</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#363250;">//hack!</span>
<span>                </span><span style="color:#b2b2b2;">x1</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">sl</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">y1</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">st</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">x1</span><span>,</span><span style="color:#b2b2b2;">y</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">y1</span><span>,</span><span style="color:#b2b2b2;">w</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">w1</span><span>,</span><span style="color:#b2b2b2;">h</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">h1</span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-itemXyWh</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn cas(e):string                                 ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.67063282008402301.2015.11.16.07.50.36.076|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">cas</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span> (</span><span style="color:#b2b2b2;">e</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">s</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">ctrlKey</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">s</span><span> </span><span style="color:#ff00ff;">+=</span><span> </span><span style="color:#7a7b62;">'c'</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">altKey</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">s</span><span> </span><span style="color:#ff00ff;">+=</span><span> </span><span style="color:#7a7b62;">'a'</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">shiftKey</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">s</span><span> </span><span style="color:#ff00ff;">+=</span><span> </span><span style="color:#7a7b62;">'s'</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-cas</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd cancel(e):bool                               ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.98397282008402301.2015.11.16.07.51.19.389|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">cancel</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">e</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#363250;">//console.log('keyProcessed');</span>
<span>            </span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">cancelBubble</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#2b2bff;">true</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#363250;">// IE4+</span>
<span>            </span><span style="color:#2b2bff;">try</span><span> </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">keyCode</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#2b2bff;">catch</span><span> (</span><span style="color:#b2b2b2;">e</span><span>) </span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">// IE5</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">window</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">event</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">returnValue</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#2b2bff;">false</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">// IE6</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">preventDefault</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">preventDefault</span><span>()</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">// moz/opera/konqueror</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">stopPropagation</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">e</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">stopPropagation</span><span>()</span><span style="color:#ff00ff;">;</span><span> </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">// all</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#2b2bff;">false</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-cancel</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd inheritFrom(obj, tgt):void                   ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.16240382008402301.2015.11.16.07.51.44.261|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">inheritFrom</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">obj</span><span>,</span><span style="color:#b2b2b2;">tgt</span><span>) </span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#363250;">//console.log('inheritFrom..........'+arguments.callee.caller.name);</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">=[];</span>
<span>            </span><span style="color:#2b2bff;">for</span><span> (</span><span style="color:#b2b2b2;">i</span><span> </span><span style="color:#2b2bff;">in</span><span> </span><span style="color:#b2b2b2;">obj</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">obj</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">hasOwnProperty</span><span>(</span><span style="color:#b2b2b2;">i</span><span>)) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">tgt</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">]=</span><span style="color:#b2b2b2;">obj</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">];</span>
<span>                </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">]=</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#2b2bff;">console</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">log</span><span>(</span><span style="color:#7a7b62;">'not inheriting &quot;'</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">+</span><span style="color:#7a7b62;">'&quot; in '</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">obj</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">name</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#363250;">//console.log('inheritedFrom '+obj.name,a);</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-inheritedFrom</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd eachNode(object, fn, wantTypes, re, _bag):object ::utils::__  ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.23982382008402301.2015.11.16.07.52.08.932|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">eachNode</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">object</span><span>,</span><span style="color:#b2b2b2;">fn</span><span>,</span><span style="color:#b2b2b2;">wantTypes</span><span>,</span><span style="color:#b2b2b2;">re</span><span>,</span><span style="color:#b2b2b2;">_bag</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#8080a0;">/*</span>
<span style="color:#8080a0;">             * Iterate object passing its members to fn, filtered by wantTypes and regular expression.</span>
<span style="color:#8080a0;">             *</span>
<span style="color:#8080a0;">             * Parameters:</span>
<span style="color:#8080a0;">             *   object: subject object</span>
<span style="color:#8080a0;">             *   fn:     callback - optional</span>
<span style="color:#8080a0;">             *     |</span>
<span style="color:#8080a0;">             *     signature: name,item,type,object,parent,depth,path,indexes</span>
<span style="color:#8080a0;">             *              |</span>
<span style="color:#8080a0;">             *              name:      the name of the member</span>
<span style="color:#8080a0;">             *              item:      the member</span>
<span style="color:#8080a0;">             *              type:      typeof memeber</span>
<span style="color:#8080a0;">             *              object:    in which member resides</span>
<span style="color:#8080a0;">             *              parent:    the parent of object</span>
<span style="color:#8080a0;">             *              depth:     zero based recursion depth</span>
<span style="color:#8080a0;">             *              path:      dot path of current object relative to passed object</span>
<span style="color:#8080a0;">             *              indexes:   object of indexes</span>
<span style="color:#8080a0;">             *                     |</span>
<span style="color:#8080a0;">                                   itemIndex:    position item was found in containing object</span>
<span style="color:#8080a0;">                                   itemDidIndex: index count of items done for containing object</span>
<span style="color:#8080a0;">                                   didIndex:     global index count of items done for passed object</span>
<span style="color:#8080a0;">                                   index:        global index count of items for passed object</span>
<span style="color:#8080a0;">             *   wantTypes: array of Javascript types, defaults to ['object'] - optional</span>
<span style="color:#8080a0;">             *   re:        regular expression to filter member names</span>
<span style="color:#8080a0;">             *   _bag:      internal, do not supply, but this it will be returned</span>
<span style="color:#8080a0;">             *</span>
<span style="color:#8080a0;">             * Returns:</span>
<span style="color:#8080a0;">             *   _bag: bag containing collections</span>
<span style="color:#8080a0;">             *       |</span>
<span style="color:#8080a0;">             *</span>
<span style="color:#8080a0;">             *</span>
<span style="color:#8080a0;">             *</span>
<span style="color:#8080a0;">             *</span>
<span style="color:#8080a0;">             */</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">itemIndex</span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#ff00ff;">-</span><span style="color:#8080ff;">1</span><span>, </span><span style="color:#b2b2b2;">itemDidIndex</span><span style="color:#ff00ff;">=-</span><span style="color:#8080ff;">1</span><span>, </span><span style="color:#b2b2b2;">name</span><span>, </span><span style="color:#006200;">item</span><span>, </span><span style="color:#b2b2b2;">rv</span><span>,</span><span style="color:#b2b2b2;">indexes</span><span>, </span><span style="color:#b2b2b2;">dupe</span><span>, </span><span style="color:#b2b2b2;">retitem</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">===undefined</span><span>)</span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">bag</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#b2b2b2;">index</span><span style="color:#ff00ff;">:-</span><span style="color:#8080ff;">1</span>
<span>                  ,</span><span style="color:#b2b2b2;">didIndex</span><span style="color:#ff00ff;">:-</span><span style="color:#8080ff;">1</span>
<span>                  ,</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">:[]</span>
<span>                  ,</span><span style="color:#b2b2b2;">_paths</span><span style="color:#ff00ff;">:[]</span>
<span>                  ,</span><span style="color:#b2b2b2;">did</span><span style="color:#ff00ff;">:[]</span>
<span>                  ,</span><span style="color:#b2b2b2;">returns</span><span style="color:#ff00ff;">:</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">items</span><span style="color:#ff00ff;">:[]</span><span>,</span><span style="color:#b2b2b2;">dupes</span><span style="color:#ff00ff;">:[]</span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">Object</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">defineProperty</span><span>(</span><span style="color:#b2b2b2;">bag</span><span>,</span><span style="color:#7a7b62;">'depth'</span><span>,</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">get</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>                ,</span><span style="color:#b2b2b2;">set</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{}</span>
<span>                ,</span><span style="color:#b2b2b2;">enumerable</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">true</span><span>,</span><span style="color:#b2b2b2;">configurable</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">false</span>
<span>              </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">Object</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">defineProperty</span><span>(</span><span style="color:#b2b2b2;">bag</span><span>,</span><span style="color:#7a7b62;">'parent'</span><span>,</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">get</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">&gt;</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">?</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">[</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">-</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">]:undefined;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>                ,</span><span style="color:#b2b2b2;">set</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">v</span><span>)</span><span style="color:#708a53;">{</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#b2b2b2;">v</span><span>)</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>                ,</span><span style="color:#b2b2b2;">enumerable</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">true</span><span>,</span><span style="color:#b2b2b2;">configurable</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">false</span>
<span>                </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">Object</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">defineProperty</span><span>(</span><span style="color:#b2b2b2;">bag</span><span>,</span><span style="color:#7a7b62;">'parents'</span><span>,</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">get</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">=[];var</span><span> </span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#2b2bff;">for</span><span>(</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">&lt;</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">++</span><span>)</span><span style="color:#708a53;">{</span>
<span>                    </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">]</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#708a53;">}</span>
<span>                  </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>                ,</span><span style="color:#b2b2b2;">set</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{}</span>
<span>                ,</span><span style="color:#b2b2b2;">enumerable</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">true</span><span>,</span><span style="color:#b2b2b2;">configurable</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">false</span>
<span>              </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">Object</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">defineProperty</span><span>(</span><span style="color:#b2b2b2;">bag</span><span>,</span><span style="color:#7a7b62;">'path'</span><span>,</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">get</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">p</span><span style="color:#ff00ff;">=</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_paths</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">join</span><span>(</span><span style="color:#7a7b62;">'.'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#b2b2b2;">p</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">p</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">?</span><span style="color:#b2b2b2;">p</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">p</span><span style="color:#ff00ff;">+</span><span style="color:#7a7b62;">'.'</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">p</span><span style="color:#ff00ff;">+</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">_name</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#708a53;">}</span>
<span>                ,</span><span style="color:#b2b2b2;">set</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{}</span>
<span>                ,</span><span style="color:#b2b2b2;">enumerable</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">true</span><span>,</span><span style="color:#b2b2b2;">configurable</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">false</span>
<span>              </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#b2b2b2;">bag</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_object</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_paths</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">_name</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">utils</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">eachNode</span><span>(</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_item</span><span>,</span><span style="color:#b2b2b2;">fn</span><span>,</span><span style="color:#b2b2b2;">wantTypes</span><span>,</span><span style="color:#b2b2b2;">re</span><span>,</span><span style="color:#634880;">this</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#b2b2b2;">bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">pop</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">rv</span><span>)</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_item</span><span style="color:#ff00ff;">=</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">pop</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_paths</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">pop</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">_name</span><span style="color:#ff00ff;">=</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_paths</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">&gt;</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">?</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_paths</span><span style="color:#ff00ff;">[</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_paths</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">-</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">]:</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">===</span><span style="color:#2b2bff;">null</span><span>)</span><span style="color:#708a53;">{</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_breaking</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">true</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>                </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">depth</span><span style="color:#ff00ff;">===</span><span style="color:#8080ff;">0</span><span>) </span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>                </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#b2b2b2;">bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">path</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">=</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#2b2bff;">for</span><span> (</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">&lt;</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">;</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">++</span><span>)</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">+=</span><span style="color:#7a7b62;">'.'</span><span style="color:#ff00ff;">+</span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_parents</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">x</span><span style="color:#ff00ff;">].</span><span style="color:#006200;">_name</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>                </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">bag</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">// if no bag</span>
<span>            </span><span style="color:#b2b2b2;">fn</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">fn</span><span style="color:#ff00ff;">!==undefined?</span><span style="color:#b2b2b2;">fn</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">name</span><span>,</span><span style="color:#006200;">item</span><span>,</span><span style="color:#b2b2b2;">type</span><span>,</span><span style="color:#b2b2b2;">object</span><span>,</span><span style="color:#b2b2b2;">parent</span><span>,</span><span style="color:#b2b2b2;">depth</span><span>,</span><span style="color:#b2b2b2;">path</span><span>,</span><span style="color:#b2b2b2;">indexes</span><span>)</span><span style="color:#708a53;">{</span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#2b2bff;">true</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">wantTypes</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">wantTypes</span><span style="color:#ff00ff;">?</span><span style="color:#b2b2b2;">wantTypes</span><span style="color:#ff00ff;">:[</span><span style="color:#7a7b62;">'object'</span><span style="color:#ff00ff;">];</span>
<span>            </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_object</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">object</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">for</span><span>(</span><span style="color:#b2b2b2;">name</span><span> </span><span style="color:#2b2bff;">in</span><span> </span><span style="color:#b2b2b2;">object</span><span>)</span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#2b2bff;">if</span><span>(</span><span style="color:#ff00ff;">!</span><span style="color:#b2b2b2;">object</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">hasOwnProperty</span><span>(</span><span style="color:#b2b2b2;">name</span><span>))</span><span style="color:#708a53;">{</span><span style="color:#2b2bff;">continue</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#006200;">item</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">object</span><span style="color:#ff00ff;">[</span><span style="color:#b2b2b2;">name</span><span style="color:#ff00ff;">];</span>
<span>              </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">_name</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">name</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_item</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">item</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#b2b2b2;">itemIndex</span><span style="color:#ff00ff;">++;</span>
<span>              </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">index</span><span style="color:#ff00ff;">++;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">type</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">typeof</span><span> </span><span style="color:#006200;">item</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#ff00ff;">[</span><span style="color:#7a7b62;">'function'</span><span>,</span><span style="color:#7a7b62;">'object'</span><span style="color:#ff00ff;">].</span><span style="color:#2b2bff;">indexOf</span><span>(</span><span style="color:#b2b2b2;">type</span><span>)</span><span style="color:#ff00ff;">!==-</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">&amp;&amp;</span><span style="color:#006200;">item</span><span style="color:#ff00ff;">!==</span><span style="color:#2b2bff;">null</span><span>)</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">did</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">indexOf</span><span>(</span><span style="color:#006200;">item</span><span>)</span><span style="color:#ff00ff;">!==-</span><span style="color:#8080ff;">1</span><span>)</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#b2b2b2;">indexes</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{</span>
<span>                    </span><span style="color:#b2b2b2;">itemIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">itemIndex</span>
<span>                    ,</span><span style="color:#b2b2b2;">itemDidIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">itemDidIndex</span>
<span>                    ,</span><span style="color:#b2b2b2;">didIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">didIndex</span>
<span>                    ,</span><span style="color:#b2b2b2;">index</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">index</span>
<span>                    </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#b2b2b2;">dupe</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{</span>
<span>                    </span><span style="color:#006200;">item</span><span style="color:#ff00ff;">:</span><span style="color:#006200;">item</span>
<span>                    ,</span><span style="color:#b2b2b2;">name</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">name</span>
<span>                    ,</span><span style="color:#b2b2b2;">object</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">object</span>
<span>                    ,</span><span style="color:#b2b2b2;">type</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">type</span>
<span>                    ,</span><span style="color:#b2b2b2;">parent</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">parent</span>
<span>                    ,</span><span style="color:#b2b2b2;">depth</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">depth</span>
<span>                    ,</span><span style="color:#b2b2b2;">path</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">path</span>
<span>                    ,</span><span style="color:#b2b2b2;">indexes</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">indexes</span>
<span>                    </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">returns</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">dupes</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#b2b2b2;">dupe</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#2b2bff;">continue</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">did</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#006200;">item</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#2b2bff;">if</span><span>(</span><span style="color:#b2b2b2;">wantTypes</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">indexOf</span><span>(</span><span style="color:#b2b2b2;">type</span><span>)</span><span style="color:#ff00ff;">!==-</span><span style="color:#8080ff;">1</span><span>)</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">doit</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">re</span><span style="color:#ff00ff;">===undefined?</span><span style="color:#2b2bff;">true</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">re</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">test</span><span>(</span><span style="color:#b2b2b2;">name</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">doit</span><span>)</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#b2b2b2;">itemDidIndex</span><span style="color:#ff00ff;">++;</span>
<span>                  </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">didIndex</span><span style="color:#ff00ff;">++;</span>
<span>                  </span><span style="color:#363250;">// undefined: no push, true: push, false: no push, -1: no push, 'done':abort level, 'finish': abort all</span>
<span>                  </span><span style="color:#b2b2b2;">indexes</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{</span>
<span>                    </span><span style="color:#b2b2b2;">itemIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">itemIndex</span>
<span>                    ,</span><span style="color:#b2b2b2;">itemDidIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">itemDidIndex</span>
<span>                    ,</span><span style="color:#b2b2b2;">didIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">didIndex</span>
<span>                    ,</span><span style="color:#b2b2b2;">index</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">index</span>
<span>                    </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">fn</span><span>(</span><span style="color:#b2b2b2;">name</span><span>,</span><span style="color:#006200;">item</span><span>,</span><span style="color:#b2b2b2;">type</span><span>,</span><span style="color:#b2b2b2;">object</span><span>,</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">parent</span><span>,</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">depth</span><span>,</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">path</span><span>,</span><span style="color:#b2b2b2;">indexes</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">false</span><span>)</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'done'</span><span>)</span><span style="color:#708a53;">{</span>
<span>                    </span><span style="color:#2b2bff;">break</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'finish'</span><span>)</span><span style="color:#708a53;">{</span>
<span>                    </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">pop</span><span>(</span><span style="color:#2b2bff;">null</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">rv</span><span>)</span><span style="color:#708a53;">{</span><span> </span><span style="color:#363250;">// '==' is OK here</span>
<span>                    </span><span style="color:#b2b2b2;">indexes</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{</span>
<span>                      </span><span style="color:#b2b2b2;">itemIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">itemIndex</span>
<span>                      ,</span><span style="color:#b2b2b2;">itemDidIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">itemDidIndex</span>
<span>                      ,</span><span style="color:#b2b2b2;">didIndex</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">didIndex</span>
<span>                      ,</span><span style="color:#b2b2b2;">index</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">index</span>
<span>                      </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>                    </span><span style="color:#b2b2b2;">retitem</span><span style="color:#ff00ff;">=</span><span style="color:#708a53;">{</span>
<span>                      </span><span style="color:#b2b2b2;">name</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">name</span>
<span>                      ,</span><span style="color:#006200;">item</span><span style="color:#ff00ff;">:</span><span style="color:#006200;">item</span>
<span>                      ,</span><span style="color:#b2b2b2;">object</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">object</span>
<span>                      ,</span><span style="color:#b2b2b2;">type</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">type</span>
<span>                      ,</span><span style="color:#b2b2b2;">parent</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">parent</span>
<span>                      ,</span><span style="color:#b2b2b2;">depth</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">depth</span>
<span>                      ,</span><span style="color:#b2b2b2;">path</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">path</span>
<span>                      ,</span><span style="color:#b2b2b2;">indexes</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">indexes</span>
<span>                      </span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>                    </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">returns</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">items</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#b2b2b2;">retitem</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#ff00ff;">!</span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">||</span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">===-</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">||</span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">===undefined</span><span>)</span><span style="color:#708a53;">{</span>
<span>                    </span><span style="color:#363250;">// nada</span>
<span>                  </span><span style="color:#708a53;">}</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">// not want type</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">type</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'object'</span><span style="color:#ff00ff;">&amp;&amp;</span><span style="color:#006200;">item</span><span style="color:#ff00ff;">!==</span><span style="color:#2b2bff;">null</span><span>)</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#2b2bff;">if</span><span>(</span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">===</span><span style="color:#2b2bff;">null</span><span>)</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">pop</span><span>(</span><span style="color:#b2b2b2;">rv</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">_breaking</span><span>)</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#2b2bff;">break</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">_bag</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">pop</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-eachNode</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd blackHtml():void                             ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.54465482008402301.2015.11.16.07.54.16.445|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">blackHtml</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">color</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">documentElement</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">style</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">backgroundColor</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">documentElement</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">style</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">backgroundColor</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#939300;">&quot;black&quot;</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">observer</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#ff00ff;">new</span><span> </span><span style="color:#3a7474;">MutationObserver</span><span>(</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">mutations</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">mutations</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">forEach</span><span>(</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">mutation</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">false</span><span style="color:#ff00ff;">&amp;&amp;</span><span style="color:#b2b2b2;">mutation</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">target</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">nodeName</span><span> </span><span style="color:#ff00ff;">==</span><span> </span><span style="color:#939300;">&quot;BODY&quot;</span><span>) </span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#b2b2b2;">observer</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">disconnect</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">documentElement</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">style</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">backgroundColor</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">color</span><span> </span><span style="color:#ff00ff;">||</span><span> </span><span style="color:#939300;">&quot;&quot;</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">observer</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">observe</span><span>(</span><span style="color:#b2b2b2;">document</span><span>, </span><span style="color:#708a53;">{</span><span> </span><span style="color:#b2b2b2;">childList</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">true</span><span>, </span><span style="color:#b2b2b2;">subtree</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#2b2bff;">true</span><span> </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-blackHtml</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd addStylesheet(url, id):void                  ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.21802582008402301.2015.11.16.07.55.20.812|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">addStylesheet</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>,</span><span style="color:#b2b2b2;">id</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">style</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">createElement</span><span>(</span><span style="color:#7a7b62;">'link'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">style</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">rel</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#7a7b62;">'stylesheet'</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">style</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">type</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#7a7b62;">'text/css'</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">style</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">href</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">chrome</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">extension</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getURL</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">id</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">style</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            (</span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">head</span><span style="color:#ff00ff;">||</span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">documentElement</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">appendChild</span><span>(</span><span style="color:#b2b2b2;">style</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-addStylesheet</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd addScript(url, id):void                      ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.14714582008402301.2015.11.16.07.55.41.741|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">addScript</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>,</span><span style="color:#b2b2b2;">id</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">el</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">createElement</span><span>(</span><span style="color:#7a7b62;">'script'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">el</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">type</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#7a7b62;">'text/javascript'</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">el</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">src</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">chrome</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">extension</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getURL</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">id</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">el</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            (</span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">head</span><span style="color:#ff00ff;">||</span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">documentElement</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">appendChild</span><span>(</span><span style="color:#b2b2b2;">el</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-addScript</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd deleteNamedStyle(name_):void                 ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.76395582008402301.2015.11.16.07.55.59.367|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">deleteNamedStyle</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">name_</span><span>) </span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">?</span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">:[];</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">indexOf</span><span>(</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">i</span><span style="color:#ff00ff;">!==-</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">splice</span><span>(</span><span style="color:#b2b2b2;">i</span><span>,</span><span style="color:#8080ff;">1</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#006200;">qo</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#7a7b62;">'#'</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#006200;">qo</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#006200;">qo</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">remove</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#006200;">qo</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">&gt;</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#2b2bff;">console</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">error</span><span>(</span><span style="color:#7a7b62;">'multiple element matches for named style:'</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                  </span><span style="color:#006200;">qo</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">remove</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>                  </span><span style="color:#2b2bff;">console</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">error</span><span>(</span><span style="color:#7a7b62;">'zero element matches for named style:'</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#2b2bff;">console</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">warn</span><span>(</span><span style="color:#7a7b62;">'named style not found:'</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-deleteNamedStyle</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd updateNamedStyle(style_str_, name_, fn):void ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.13487582008402301.2015.11.16.07.56.18.431|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">updateNamedStyle</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">style_str_</span><span>,</span><span style="color:#b2b2b2;">name_</span><span>,</span><span style="color:#b2b2b2;">fn</span><span>) </span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">name_</span><span style="color:#ff00ff;">===undefined</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">name_</span><span style="color:#ff00ff;">=</span><span style="color:#7a7b62;">'defaultStyle'</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">?</span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">:[];</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">indexOf</span><span>(</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">===-</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">__</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">data</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">namedStyles</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">push</span><span>(</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">st</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getElementById</span><span>(</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">st</span><span style="color:#ff00ff;">!==</span><span style="color:#2b2bff;">null</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#363250;">//st=st[0];</span>
<span>              </span><span style="color:#b2b2b2;">st</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">innerHTML</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">style_str_</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">head</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getElementsByTagName</span><span>(</span><span style="color:#939300;">&quot;HEAD&quot;</span><span>)</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">];</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">ele</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">head</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">appendChild</span><span>(</span><span style="color:#b2b2b2;">window</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">createElement</span><span>( </span><span style="color:#7a7b62;">'style'</span><span> ))</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">eleq</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#b2b2b2;">ele</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#b2b2b2;">eleq</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">attr</span><span>(</span><span style="color:#7a7b62;">'id'</span><span>,</span><span style="color:#b2b2b2;">name_</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">fn</span><span style="color:#ff00ff;">!==undefined</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">eleq</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">on</span><span>(</span><span style="color:#7a7b62;">'load'</span><span>,</span><span style="color:#b2b2b2;">fn</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#b2b2b2;">ele</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">innerHTML</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">style_str_</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-updateNamedStyle</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd addScripting(s, id):void                     ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.31254682008402301.2015.11.16.07.57.25.213|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">addScripting</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">s</span><span>,</span><span style="color:#b2b2b2;">id</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">script</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">createElement</span><span>(</span><span style="color:#939300;">&quot;script&quot;</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#363250;">// Add script content</span>
<span>            </span><span style="color:#b2b2b2;">script</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">innerHTML</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">!==undefined</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">script</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#363250;">// Append</span>
<span>            </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">head</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">appendChild</span><span>(</span><span style="color:#b2b2b2;">script</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-addScripting</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd addScriptingFn(fn):void                      ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.47146682008402301.2015.11.16.07.57.44.174|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">addScriptingFn</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">fn</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">=</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">+=</span><span style="color:#7a7b62;">'('</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">fn</span><span style="color:#ff00ff;">+</span><span style="color:#7a7b62;">')();'</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">addScripting</span><span>(</span><span style="color:#b2b2b2;">s</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-addScriptingFn</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd tryClick(q):void                             ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.46748682008402301.2015.11.16.07.58.04.764|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">tryClick</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#006200;">q</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">hasClass</span><span>(</span><span style="color:#7a7b62;">'clickable'</span><span>)) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">prop</span><span>(</span><span style="color:#7a7b62;">'tagName'</span><span>)</span><span style="color:#ff00ff;">==</span><span style="color:#7a7b62;">'BUTTON'</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">click</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">'&gt;a'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">'&gt;span&gt;span'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">'&gt;span'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">'&gt;div&gt;div'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#8080ff;">0</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">' div.tooltip'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">&gt;</span><span style="color:#8080ff;">0</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">eq</span><span>(</span><span style="color:#8080ff;">0</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#ff00ff;">return;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">' .bd'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">'&gt;div'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">=</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">find</span><span>(</span><span style="color:#7a7b62;">'&gt;div.img'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">1</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ss</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">simulate</span><span>(</span><span style="color:#7a7b62;">'click'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-tryClick</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd background_msg(o):void                       ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.33126713008402301.2015.11.16.08.49.22.133|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">background_msg</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">o</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">chrome</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">runtime</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">sendMessage</span><span>(</span><span style="color:#b2b2b2;">o</span><span>, </span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">response</span><span>) </span><span style="color:#708a53;">{}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-background_msg</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd newBackgroundTab(url):void                   ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.09129713008402301.2015.11.16.08.49.52.190|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">newBackgroundTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;new-background-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">url</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">url</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-newBackgroundTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd sameBackgroundTab(url):void                  ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.45072813008402301.2015.11.16.08.50.27.054|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">sameBackgroundTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;same-background-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">url</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">url</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-sameBackgroundTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd newGoTab(url):void                           ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.51424813008402301.2015.11.16.08.50.42.415|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">newGoTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;new-go-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">url</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">url</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-sameBackgroundTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd newOtherBackgroundTab(url):void              ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.06006813008402301.2015.11.16.08.51.00.060|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">newOtherBackgroundTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;new-obg-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">url</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">url</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-sameBackgroundTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd newOtherTab(url):void                        ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.35277813008402301.2015.11.16.08.51.17.253|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">newOtherTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;new-ogo-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">url</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">url</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-sameBackgroundTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd newNextBackgroundTab(url):void               ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.48619813008402301.2015.11.16.08.51.31.684|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">newNextBackgroundTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;new-next-bg-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">url</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">url</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-sameBackgroundTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd newNextTab(url):void                         ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.83821913008402301.2015.11.16.08.51.52.838|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">newNextTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">url</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;new-next-go-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">url</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">url</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-sameBackgroundTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd activateTab(tabid):void                      ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.94282913008402301.2015.11.16.08.52.08.249|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">activateTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;activate-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-activateTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd detachTab(tabid):void                        ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.54805913008402301.2015.11.16.08.52.30.845|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">detachTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;detach-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-detachTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd detachStayTab(tabid):void                    ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.69516913008402301.2015.11.16.08.52.41.596|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">detachStayTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;detach-stay-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-detachStayTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd attachTab(tabid):void                        ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.65147913008402301.2015.11.16.08.52.54.156|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">attachTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;attach-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-attachTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd attachStayTab(tabid):void                    ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.03238913008402301.2015.11.16.08.53.03.230|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">attachStayTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;attach-stay-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-attachStayTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd closeTab(tabid):void                         ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.63449913008402301.2015.11.16.08.53.14.436|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">closeTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;close-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-closeTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd cloneTab(tabid):void                         ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.86050023008402301.2015.11.16.08.53.25.068|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">cloneTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;clone-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-cloneTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd cloneStayTab(tabid):void                     ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.94971023008402301.2015.11.16.08.53.37.949|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">cloneStayTab</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">tabid</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">parseInt</span><span>(</span><span style="color:#7a7b62;">''</span><span style="color:#ff00ff;">+</span><span style="color:#b2b2b2;">tabid</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;clone-stay-tab&quot;</span><span>,</span><span style="color:#b2b2b2;">id</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">tabid</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-cloneTab</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn qOf(q):q                                      ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.46304023008402301.2015.11.16.08.54.00.364|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">qOf</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#006200;">q</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">false</span><span>) </span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">typeof</span><span> </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'function'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#006200;">q</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#006200;">q</span><span> </span><span style="color:#2b2bff;">instanceof</span><span> </span><span style="color:#b2b2b2;">jQuery</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">typeof</span><span> </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'string'</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#006200;">q</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span style="color:#2b2bff;">else</span><span> </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#2b2bff;">typeof</span><span> </span><span style="color:#b2b2b2;">ctrl</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">q</span><span style="color:#ff00ff;">===</span><span style="color:#7a7b62;">'object'</span><span>) </span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-q</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn isInDocument(el):bool                         ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.07896023008402301.2015.11.16.08.54.29.870|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">isInDocument</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">el</span><span>) </span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">html</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">document</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">body</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">parentNode</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">while</span><span> (</span><span style="color:#b2b2b2;">el</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">el</span><span> </span><span style="color:#ff00ff;">===</span><span> </span><span style="color:#b2b2b2;">html</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#2b2bff;">true</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#b2b2b2;">el</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">el</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">parentNode</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#2b2bff;">false</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-isInDocument</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd body_msg(s):void                             ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.61131123008402301.2015.11.16.08.55.13.116|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">body_msg</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">s</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#7a7b62;">'body'</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">attr</span><span>(</span><span style="color:#7a7b62;">'data-msg'</span><span>,</span><span style="color:#b2b2b2;">s</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn timeDifference(earlierDate, laterDate):object{days,hours,mins,seconds} ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.08972123008402301.2015.11.16.08.55.27.980|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">timeDifference</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">earlierDate</span><span>,</span><span style="color:#b2b2b2;">laterDate</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">tot</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#b2b2b2;">laterDate</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getTime</span><span>() </span><span style="color:#ff00ff;">-</span><span> </span><span style="color:#b2b2b2;">earlierDate</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getTime</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">o</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#ff00ff;">new</span><span> </span><span style="color:#2b2bff;">Object</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">days</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#2b2bff;">Math</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">floor</span><span>(</span><span style="color:#b2b2b2;">tot</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">1000</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">24</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">tot</span><span> </span><span style="color:#ff00ff;">-=</span><span> </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">days</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">1000</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">24</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">hours</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#2b2bff;">Math</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">floor</span><span>(</span><span style="color:#b2b2b2;">tot</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">1000</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">60</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">tot</span><span> </span><span style="color:#ff00ff;">-=</span><span> </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">hours</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">1000</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">minutes</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#2b2bff;">Math</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">floor</span><span>(</span><span style="color:#b2b2b2;">tot</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">1000</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">60</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">tot</span><span> </span><span style="color:#ff00ff;">-=</span><span> </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">minutes</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">1000</span><span style="color:#ff00ff;">*</span><span style="color:#8080ff;">60</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">seconds</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#2b2bff;">Math</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">floor</span><span>(</span><span style="color:#b2b2b2;">tot</span><span style="color:#ff00ff;">/</span><span style="color:#8080ff;">1000</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">o</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>        </span><span style="color:#363250;">// Z_DOT cmd requestTabPic():void                         ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.65559123008402301.2015.11.16.08.56.35.556|+!</span>
<span>          ,</span><span style="color:#b2b2b2;">requestTabPic</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>()</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#634880;">this</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">background_msg</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">greeting</span><span style="color:#ff00ff;">:</span><span> </span><span style="color:#939300;">&quot;get-tab-pic&quot;</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-requestTabPic</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn matchVizColor(s):bool                         ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.52790223008402301.2015.11.16.08.56.49.725|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">matchVizColor</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">s</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#2b2bff;">function</span><span> </span><span style="color:#ff00ff;">comp</span><span>(</span><span style="color:#b2b2b2;">s</span><span>)</span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">co</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">tinycolor</span><span>(</span><span style="color:#b2b2b2;">s</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">hsl</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">co</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">toHsl</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">c</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">=</span><span style="color:#b0b0ff;">0.5</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">=</span><span style="color:#b0b0ff;">0.5</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">v</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">Math</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">sqrt</span><span>(</span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">hsl</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">h</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">a</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">hsl</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">h</span><span> </span><span style="color:#ff00ff;">+</span><span> </span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">hsl</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">s</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">hsl</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">s</span><span> </span><span style="color:#ff00ff;">+</span><span> </span><span style="color:#b2b2b2;">c</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">hsl</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">c</span><span style="color:#ff00ff;">*</span><span style="color:#b2b2b2;">hsl</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">l</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">v</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">v0</span><span style="color:#ff00ff;">=comp</span><span>(</span><span style="color:#b2b2b2;">s</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">at</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">10000</span><span style="color:#ff00ff;">;</span><span style="color:#363250;">//Number.Infinity;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">found</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">vizcolors</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">forEach</span><span>(</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">cc</span><span>)</span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">v</span><span style="color:#ff00ff;">=comp</span><span>(</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">c</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#363250;">//console.log('v',v);</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">dif</span><span style="color:#ff00ff;">=</span><span style="color:#2b2bff;">Math</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">abs</span><span>(</span><span style="color:#b2b2b2;">v0</span><span style="color:#ff00ff;">-</span><span style="color:#b2b2b2;">v</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#363250;">//console.log('dif',dif);</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">dif</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">at</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#363250;">//console.log('found..',cc);</span>
<span>                </span><span style="color:#b2b2b2;">at</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">dif</span><span style="color:#ff00ff;">;</span>
<span>                </span><span style="color:#b2b2b2;">found</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">found</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">found</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-matchVizColor</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn getIdenticonImageData(ident):object{png,c0,c1,c2,c3,indent,hash} ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.94734223008402301.2015.11.16.08.57.23.749|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">getIdenticonImageData</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">ident</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">sc</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#7a7b62;">'#identicon-canvas'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">sc</span><span style="color:#ff00ff;">.</span><span style="color:#b2b2b2;">length</span><span style="color:#ff00ff;">==</span><span style="color:#8080ff;">0</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#7a7b62;">'body'</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#006200;">append</span><span>(</span><span style="color:#7a7b62;">'&lt;canvas id=&quot;identicon-canvas&quot; width=&quot;64&quot; height=&quot;64&quot;/&gt;'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#363250;">//sc=$('&lt;canvas id=&quot;identicon-canvas&quot; width=&quot;64&quot; height=&quot;64&quot;/&gt;');</span>
<span>              </span><span style="color:#b2b2b2;">sc</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">$</span><span>(</span><span style="color:#7a7b62;">'#identicon-canvas'</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">hash</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">CryptoJS</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">MD5</span><span>(</span><span style="color:#b2b2b2;">ident</span><span>)</span><span style="color:#ff00ff;">.</span><span style="color:#2b2bff;">toString</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">sc</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">jdenticon</span><span>(</span><span style="color:#b2b2b2;">hash</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">rv</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">sc</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">].</span><span style="color:#3a7474;">toDataURL</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">colorThief</span><span> </span><span style="color:#ff00ff;">=</span><span> </span><span style="color:#ff00ff;">new</span><span> </span><span style="color:#3a7474;">ColorThief</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">colorThief</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getPalette</span><span>(</span><span style="color:#b2b2b2;">sc</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#8080ff;">4</span><span>,</span><span style="color:#8080ff;">10</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">c0</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">tinycolor</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">r</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">g</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">2</span><span style="color:#ff00ff;">]</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">c1</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">tinycolor</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">r</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">g</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">2</span><span style="color:#ff00ff;">]</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">c2</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">tinycolor</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">r</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">2</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">g</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">2</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">2</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">2</span><span style="color:#ff00ff;">]</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">c3</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">tinycolor</span><span>(</span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">r</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">3</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">g</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">3</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">1</span><span style="color:#ff00ff;">]</span><span>,</span><span style="color:#b2b2b2;">b</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">clr</span><span style="color:#ff00ff;">[</span><span style="color:#8080ff;">3</span><span style="color:#ff00ff;">][</span><span style="color:#8080ff;">2</span><span style="color:#ff00ff;">]</span><span style="color:#708a53;">}</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">png</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">rv</span><span>,</span><span style="color:#b2b2b2;">c0</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">c0</span><span>,</span><span style="color:#b2b2b2;">c1</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">c1</span><span>,</span><span style="color:#b2b2b2;">c2</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">c2</span><span>,</span><span style="color:#b2b2b2;">c3</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">c3</span><span>,</span><span style="color:#b2b2b2;">ident</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">ident</span><span>,</span><span style="color:#b2b2b2;">hash</span><span style="color:#ff00ff;">:</span><span style="color:#b2b2b2;">hash</span><span style="color:#708a53;">}</span><span style="color:#ff00ff;">;</span>
<span>          </span><span style="color:#708a53;">}</span>
<span>        </span><span style="color:#363250;">// Z_DOT fn fixLuminocity(c, h, l):color                  ::utils::__ ::script::pgs-1.0::pgs_vpw::_tool::!mark::C::script.js z.37718223008402301.2015.11.16.08.58.01.773|+?</span>
<span>          ,</span><span style="color:#b2b2b2;">fixLuminocity</span><span style="color:#ff00ff;">:</span><span style="color:#2b2bff;">function</span><span>(</span><span style="color:#b2b2b2;">c</span><span>,</span><span style="color:#b2b2b2;">h</span><span>,</span><span style="color:#b2b2b2;">l</span><span>)</span><span style="color:#708a53;">{</span>
<span>            </span><span style="color:#b2b2b2;">h</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">h</span><span style="color:#ff00ff;">?</span><span style="color:#b2b2b2;">h</span><span style="color:#ff00ff;">:</span><span style="color:#b0b0ff;">0.4</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">?</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">:</span><span style="color:#b0b0ff;">0.2</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">=</span><span style="color:#3a7474;">tinycolor</span><span>(</span><span style="color:#b2b2b2;">c</span><span>)</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">ct</span><span style="color:#ff00ff;">=</span><span style="color:#8080ff;">0</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#2b2bff;">while</span><span> (</span><span style="color:#2b2bff;">true</span><span>) </span><span style="color:#708a53;">{</span>
<span>              </span><span style="color:#b2b2b2;">ct</span><span style="color:#ff00ff;">++;</span>
<span>              </span><span style="color:#ff00ff;">var</span><span> </span><span style="color:#b2b2b2;">lum</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getLuminance</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">lum</span><span style="color:#ff00ff;">&gt;</span><span style="color:#b2b2b2;">h</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">darken</span><span>(</span><span style="color:#8080ff;">1</span><span>)</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">lum</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">l</span><span>) </span><span style="color:#708a53;">{</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">brighten</span><span>(</span><span style="color:#8080ff;">1</span><span>)</span><span style="color:#ff00ff;">;</span><span style="color:#708a53;">}</span>
<span>              </span><span style="color:#b2b2b2;">lum</span><span style="color:#ff00ff;">=</span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">.</span><span style="color:#3a7474;">getLuminance</span><span>()</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#2b2bff;">if</span><span> (</span><span style="color:#b2b2b2;">lum</span><span style="color:#ff00ff;">&lt;</span><span style="color:#b2b2b2;">h</span><span style="color:#ff00ff;">&amp;&amp;</span><span style="color:#b2b2b2;">lum</span><span style="color:#ff00ff;">&gt;</span><span style="color:#b2b2b2;">l</span><span style="color:#ff00ff;">||</span><span style="color:#b2b2b2;">ct</span><span style="color:#ff00ff;">&gt;</span><span style="color:#8080ff;">100</span><span>) </span><span style="color:#708a53;">{</span>
<span>                </span><span style="color:#2b2bff;">break</span><span style="color:#ff00ff;">;</span>
<span>              </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#708a53;">}</span>
<span>            </span><span style="color:#ff00ff;">return</span><span> </span><span style="color:#b2b2b2;">cc</span><span style="color:#ff00ff;">;</span>
<span>            </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-fixLuminocity</span>
<span>        </span><span style="color:#708a53;">}</span><span> </span><span style="color:#363250;">//-utils</span>
</pre></div>
  </body>
</html>

